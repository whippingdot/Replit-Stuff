#include <iostream>
using namespace std;void impossible(){cout<<"impossible";exit(0);}void endProgram(string a){if(a!=""){impossible();}}int main(){char u[3][4];int n[3][3];int c=0;int o=0;int z=0;int p=0;int q=0;int r=0;string a="";for(int i=0;i<3;i++){cin>>u[i];for(int x=0;x<3;x++){if(u[i][x]=='.'){n[i][x]=0;}if(u[i][x]=='R'){n[i][x]=2;c++;}if(u[i][x]=='B'){n[i][x]=7;o++;}}}if(((c>5||o>5)||(c==5&&o==5))||(c!=o&&c+1!=o&&c-1!=o)){impossible();}for(int i=0;i<3;i++){if((n[2][i]==0&&(n[1][i]!=0||n[0][i]!=0))||(n[1][i]==0&&n[0][i]!=0)){impossible();}}q=n[0][0]+n[1][1]+n[2][2];r=n[0][2]+n[1][1]+n[2][0];for(int i=0;i<3;i++){for(int j=0;j<3;j++){z+=n[i][j];p+=n[j][i];}if(z!=p&&p!=q&&z!=q&&r!=z&&r!=p&&r!=q&&(z==6||p==6||q==6||r==6)){endProgram(a);a="red";}if(z!=p&&p!=q&&z!=q&&r!=z&&r!=p&&r!=q&&(z==21||p==21||q==21||r==21)){endProgram(a);a="blue";}z=p=0;}cout<<"possible\n";if(a==""){cout<<"tie";exit(0);}cout<<a;}